<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0141)http://www.newgradiance.com/cguw/servlet/COTC?Command=OpenLabProject&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24&labId=456&groupId=409 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>
Gradiance Online Accelerated Learning
</title>
<style type="text/css">
<!--
.tinyfont {font-size: 7pt; font-family: "Geneva, Arial, Helvetica, sans-serif";}
.smallfont {font-size: 9pt; font-family: "Geneva, Arial, Helvetica, sans-serif";}
.normalfont {font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif";}
.bigfont {font-size: 14pt; font-family: "Geneva, Arial, Helvetica, sans-serif";}
.hugefont {font-size: 18pt; font-family: "Geneva, Arial, Helvetica, sans-serif";}
.bodybackground {background-color: #FFE5D0; font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: black; }
.darkbackgroundwithnormalfont {background-image: url(../gifs/brushed_metal_dkblue.jpg); font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: white; }
.darkbackgroundwithhugefont {background-image: url(../gifs/brushed_metal_dkblue.jpg); font-size: 15pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: white; }
.marginbackground {background-color: #FFE5D0; font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: black; }
.lightbackgroundwithnormalfont {background-color: #BBDDFF; font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: black; }
.lightbackgroundwithtinyfont {background-color: #FFE5D0; font-size: 7pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: black; }
.greenbackgroundwithnormalfont {background-image: url(../gifs/greenband.jpg); font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: white; }
.blackhr {height: 2px; border: 0; color: black; background-color: black;}
.bluehr {height: 2px; border: 0; color: blue; background-color: blue;}
.redhr {height: 2px; border: 0; color: red; background-color: red;}
.normalfontwithred {font-size: 11pt; font-family: "Geneva, Arial, Helvetica, sans-serif"; color: red;}
a {text-decoration: none;}
-->
</style><style type="text/css"></style>
</head>
<body class="bodybackground" style="margin-top: 0; margin-left: 0; margin-bottom: 4px; margin-right: 4px">
<table border="0" cellpadding="0" cellspacing="0" width="875px" style="height: 100%">
<tbody><tr valign="top">
<td style="width: 190px;" class="marginbackground">
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="normalfont" style="height: 100%">
<tbody><tr style="height: 61px; border-bottom-width: 0px; " valign="top">
<td>
<a href="http://www.gradiance.com/" target="_top">
<img alt="" src="./Gradiance Online Accelerated Learning_files/gradiance_logo.jpg" vspace="0px" hspace="0px" height="61px" width="190px" style="border: 0;">
</a>
</td>
</tr>
<tr style="height: 10px;">
<td>
&nbsp;
</td>
</tr>
<tr class="darkbackgroundwithnormalfont" style="height: 20px;">
<td align="center">
<b>
Zeyu
</b>
</td>
</tr>
<tr style="height: 10px;">
<td>
&nbsp;
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/services/servlet/COTC?Command=HomePage&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Home Page
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=AssignmentsDue&Screen=HomePage:AssignmentsDue&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Assignments Due
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=ScoreReport&Screen=HomePage:ScoreReport&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Progress Report
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=StudentHandouts&Screen=HomePage:StudentHandouts&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Handouts
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=StudentTutorials&Screen=HomePage:StudentTutorials&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Tutorials
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=StudentHomeworks&Screen=HomePage:StudentHomeworks&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Homeworks
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=StudentLabProjects&Screen=HomePage:StudentLabProjects&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Lab Projects
</a>
</td>
</tr>
<tr style="height: 35px;">
<td>
&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;
<a href="http://www.newgradiance.com/services/servlet/COTC?Command=LogOut&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24" style="color: darkblue;">
Log Out
</a>
</td>
</tr>
<tr style="height: 10px;">
<td>
&nbsp;
</td>
</tr>
<tr class="darkbackgroundwithnormalfont" style="height: 20px;">
<td align="center">
<a href="http://www.newgradiance.com/cguw/servlet/COTC?Command=Help&sessionId=21D5B07EAD61FA10978FCF3E0D60B940BF21EC24&Screen=HomePage:StudentLabProjects:OpenLabProject" style="color: white;">
<b>
Help
</b>
</a>
</td>
</tr>
<tr>
<td>
&nbsp;
</td>
</tr>
<tr class="lightbackgroundwithtinyfont" style="color: black; height: 20px;">
<td align="center" valign="middle" class="tinyfont">
Copyright © 2007-2011&nbsp;Gradiance Corporation.
</td>
</tr>
</tbody></table>
</td>
<td style="width: 3px; background-color: black;">&nbsp;</td>
<td valign="top" class="lightbackgroundwithnormalfont" style="width: 686px;">
<center><table border="0" cellspacing="0" cellpadding="0" width="100%" class="smallfont" style="color: black;">
<tbody><tr class="darkbackgroundwithhugefont" style="height: 35px">
<td colspan="3" valign="middle" align="center">
<b>
Gradiance Online Accelerated Learning
</b>
</td>
</tr>
<tr style="height: 5px">
<td colspan="3">
&nbsp;
</td>
</tr>
</tbody></table></center>
<table border="0" cellpadding="0" cellspacing="0" width="100%" align="center">
<tbody><tr>
<td align="center" class="bigfont">
<b style="color: #003399">
Battleships
</b>
</td>
</tr>
<tr>
<td>
&nbsp;
</td>
</tr>
</tbody></table>
<form name="otcForm" action="http://www.newgradiance.com/cguw/servlet/COTC" method="post" enctype="">
<table border="0" cellpadding="3" cellspacing="0" align="center" class="normalfont">
<tbody><tr>
<td>
Here is a schema about battleships and the battles they fought in:
<p>
</p><pre>     Ships(name, yearLaunched, country, numGuns, gunSize, displacement)
     Battles(ship, battleName, result)
</pre>
<p>
A typical Ships tuple would be:
</p><p>
</p><pre>     ('New Jersey', 1943, 'USA', 9, 16, 46000)
</pre>
<p>
which means that the battleship New Jersey was launched in 1943; it
belonged to the USA, carried 9 guns of size 16-inch (bore,
or inside diameter of
the barrel), and weighted (displaced, in nautical terms) 46,000 tons.
A typical tuple for Battles is:
</p><p>
</p><pre>     ('Hood', 'North Atlantic', 'sunk')
</pre>
<p>
That is, H.M.S. Hood was sunk in the battle of the North Atlantic.  The
other possible results are <tt>'ok'</tt> and <tt>'damaged'</tt>.
Write the following queries:
</p><p>
</p><ol>
<li>
Which battleships launched before 1930 had 16-inch guns?  List their
names, their country, and the number of guns they carried.
<p>
</p></li><li>
Which battleship(s) had the guns with the largest gun size?
<p>
</p></li><li>
Which battleships had the guns with the second largest gun size.  More
precisely, find the ships whose gun size was exceeded by only
one gun size, no matter how many other ships had that larger gun
size.  List the names of the ships and their gun size.
<p>
</p></li><li>
List, for each country, the average number of guns carried by their
battleships.
<p>
</p></li><li>
List all the pairs of countries that fought each other in battles.  List
each pair only once, and list them with the country that comes first
in alphabetical order first.
<p>
</p></li><li>
For the battle of Surigao Strait, for each country engaged in that
battle (had one or more battleships participating), give the number of its
battleships that were sunk.  Note: this question is very tricky.  In
particular, you need to deal with the (historical) case that a country
engaged in the battle but did not have any ships sunk.
</li></ol>
</td>
</tr>
</tbody></table>
<table border="0" cellpadding="3" cellspacing="0" align="center" class="normalfont" width="100%">
<tbody><tr class="smallfont" style="background-color: #000080; color: white">
<td align="center">
<b>
Submit your queries below
</b>
</td>
</tr>
</tbody></table>
<table border="0" cellpadding="3" cellspacing="0" align="center" class="normalfont">
<tbody><tr>
<td>
&nbsp;
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #1: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query1" cols="60" rows="6">Select s.name, s.country, s.numGuns from Ships s where s.yearLaunched &lt; 1930 and s.gunSize=16</textarea>
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #2: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query2" cols="60" rows="6">Select s.name from Ships s where s.gunSize &gt;= ALL(Select s.gunSize from Ships s)</textarea>
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #3: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query3" cols="60" rows="6">select s1.name,s1.gunSize from Ships s1 where s1.gunSize = (select max(gunSize) from Ships where gunSize &lt; (select max(gunSize) from Ships) )</textarea>
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #4: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query4" cols="60" rows="6">Select s.country,AVG(numGuns) from Ships s group by s.country</textarea>
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #5: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query5" cols="60" rows="6">select l.country, r.country 
from 
(select distinct country, battlename 
from battles join ships on battles.ship=ships.name) l 
join 
(select distinct country, battlename 
from battles join ships on battles.ship=ships.name) r 
on l.battlename = r.battlename 
where l.country &lt; r.country </textarea>
</td>
</tr>
<tr>
<td align="left" class="smallfont">
<b>
&nbsp;Statement #6: 
</b>
</td>
<td align="left" valign="top">
<textarea name="query6" cols="60" rows="6">select l.country, sum(CASE WHEN result = 'sunk' THEN 1 ELSE 0 END) from (select * from Ships join Battles on Battles.ship = Ships.name) l where l.battleName = 'Surigao Strait' group by l.country</textarea>
</td>
</tr>
<tr>
<td>
&nbsp;
</td>
</tr>
</tbody></table>
<table border="0" cellpadding="3" cellspacing="0" align="center" class="normalfont" width="100%"><tbody><tr class="smallfont" style="background-color: #000080;">
<td align="center">
<b>
&nbsp;
</b>
</td>
</tr>
</tbody></table>
<br>
<table border="0" cellpadding="3" cellspacing="0" align="center" class="normalfont">
<tbody><tr>
<td align="right" valign="top" width="75%">
<input type="submit" name="Execute" value="Submit SQL Lab Project">
</td>
</tr>
</tbody></table>
<br>
<input type="hidden" name="requestedCmd" value="Submit Lab Component">
<input type="hidden" name="labId" value="456">
<input type="hidden" name="groupId" value="409">
<input type="hidden" name="numberOfQueries" value="6">
<input type="hidden" name="Screen" value="HomePage:StudentLabProjects:OpenLabProject">
<input type="hidden" name="sessionId" value="21D5B07EAD61FA10978FCF3E0D60B940BF21EC24">
</form>
<table border="0" cellspacing="0" cellpadding="2" width="100%">
<tbody><tr style="height: 5px">
<td colspan="3">
&nbsp;
</td>
</tr>
</tbody></table>
</td>
<td style="width: 3px; background-color: black;">&nbsp;</td>
<td style="width: 190px" class="marginbackground">
&nbsp;
</td>
</tr>
</tbody></table>


</body></html>